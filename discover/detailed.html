<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <style>
      .container{
        margin-top: 16px;
      }
      .container-left {
        width: 60%;
        display: grid;
        /* border: 2px solid yellow; */
        gap: 10px;
        grid-template-areas:
          "a a"
          "b c";
      }
      .container-left > div {
        /* border: 1px solid red; */
        height: 300px;
      }

      .container-left > div:nth-child(1) {
        grid-area: a;
      }
      .container-left > div:nth-child(2) {
        grid-area: b;
      }

      .container-left > div:nth-child(3) {
        grid-area: c;
      }

      .container-left > div:nth-child(4) {
        grid-area: d;
      }
      .container {
        display: flex;
        gap: 2%;
        /* margin: 10px; */
      }
      .card {
        width: 35%;
        border: 1px solid blue;
        /* background-color: yellow; */
        padding-top: 15%;
        padding-left: 20px;
        padding-right: 20px;
      }
      .cardDiv {
        /* height: 100px; */
        /* border: 1px solid red; */
        display: grid;
        gap: 10px;
        grid-template-areas:
          "a b"
          "c c";
        margin-bottom: 20px;
      }
      .cardDiv > div {
        width: 100%;
        /* border: 1px solid blue; */
        background-color: rgb(238, 220, 220);
        border-radius: 10%;
      }
      .cardDiv > div:nth-child(1) {
        grid-area: a;
      }
      .cardDiv > div:nth-child(2) {
        grid-area: b;
      }
      .cardDiv > div:nth-child(3) {
        grid-area: c;
      }

      .person {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .person > p {
        margin: 5px;
      }
      select {
        width: 80px;
      }
      .cardDiv > div:first-child {
        text-align: center;
      }
      .cardDiv > div:nth-child(2) {
        text-align: center;
      }
      .animated-card {
          width: 35%;
          /* border: 1px solid blue; */
          padding: 20px;
          padding-top: 200px;
          margin-top: 20px;
          animation: fadeInCard 1s ease-in-out;
          transition: transform 1s ease-in-out;
          background-color: #e3eaf4;
        }

        .animated-card:hover {
          transform: translateY(-10px);
        }

        @keyframes fadeInCard {
          from {
            opacity: 0;
            transform: translateY(300px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="container-left">
        <div class="f-img"></div>
        <div class="s-img"></div>
        <div class="t-img"></div>
        <!-- <div></div> -->
      </div>
      <!-- <div class="card">
        <h3 class="price"></h3>
        <div class="cardDiv">
          <div>
            <p>CHECK IN DATE</p>
            <strong class="checkin"></strong>
          </div>
          <div>
            <p>CHECK OUT DATE</p>
            <strong class="checkout"></strong>
          </div>
          <div class="person">
            <p><strong>GUEST</strong></p>
            <select name="" id="" class="guest-select">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>
        </div>

        <button
          type="button"
          class="btn btn-outline-primary"
          style="width: 200px"
        >
          Reserved
        </button>
      </div> -->
      

      <div class="animated-card">
        <h3 class="price">Price: $199</h3>
        <div class="cardDiv">
          <div>
            <p>CHECK IN DATE</p>
            <strong class="checkin">12th Dec 2023</strong>
          </div>
          <div>
            <p>CHECK OUT DATE</p>
            <strong class="checkout">15th Dec 2023</strong>
          </div>
          <div class="person">
            <p><strong>GUEST</strong></p>
            <select name="" id="" class="guest-select">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>
        </div>
        <button type="button" class="btn btn-outline-primary" style="width: 200px">
          Reserved
        </button>

    </div>
  </body>
</html>
<script>
  let data = JSON.parse(localStorage.getItem("location")) || null;
  console.log(data);
  let f_img = document.querySelector(".f-img");
  let img = document.createElement("img");
  img.style.height = "100%";
  img.style.width = "100%";
  img.src = data.images[0];
  f_img.append(img);

  let s_img = document.querySelector(".s-img");
  let img2 = document.createElement("img");
  img2.style.height = "100%";
  img2.style.width = "100%";
  img2.src = data.images[1];
  s_img.append(img2);

  let t_img = document.querySelector(".t-img");
  let img3 = document.createElement("img");
  img3.style.height = "100%";
  img3.style.width = "100%";
  img3.src = data.images[3];
  t_img.append(img3);

  let price = document.querySelector(".price");
  price.textContent = `price per neight ₹${data.price_per_night}`;

  let checkin = document.querySelector(".checkin");
  checkin.textContent = data.availability.start_date;

  let checkout = document.querySelector(".checkout");
  checkout.textContent = data.availability.end_date;

  // Assuming there's a select element with class 'guest-select' to choose the number of guests
  // and the price per night for one guest is already available in the 'data' object

  let guestSelect = document.querySelector(".guest-select");
  let pricePerGuest = data.price_per_night;
 



  guestSelect.addEventListener("change", function () {
    let numberOfGuests = parseInt(this.value);
    var totalPrice = pricePerGuest * numberOfGuests;
    price.textContent = `price per night ₹ ${totalPrice}`;
  });


 document.querySelector('.btn-outline-primary').addEventListener('click', function() {
    const displayedPrice = document.querySelector('.price').textContent;
    const priceValue = +displayedPrice.split('₹')[1].trim();
    localStorage.setItem('selectedPrice', JSON.stringify(priceValue));
    console.log(priceValue);
            window.location.href = "/code-yogi-4567/discover/checkout.html";

  });
</script>
